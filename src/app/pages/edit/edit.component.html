<div class="card">
    <div class="card-header">
        <h3 class="card-title" style="text-transform: uppercase;">{{grado_txt}} {{nombreCompleto}}</h3>

        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <div class="card-body">

        <!-- <div class="card"> -->
        <div class="row">
            <div class="col-md-12">
                <div class="card card-primary card-tabs">
                    <div class="card-header p-0 pt-1">
                        <ul class="nav nav-tabs" id="custom-tabs-five-tab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="custom-tabs-five-overlay-tab" data-toggle="pill" href="#custom-tabs-five-overlay" role="tab" aria-controls="custom-tabs-five-overlay" aria-selected="true">Datos Laborales</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="custom-tabs-five-overlay-dark-tab" data-toggle="pill" href="#custom-tabs-five-overlay-dark" role="tab" aria-controls="custom-tabs-five-overlay-dark" aria-selected="false">Datos Personales</a>
                            </li>
                            <!-- <li class="nav-item">
                                <a class="nav-link" id="custom-tabs-five-normal-tab" data-toggle="pill" href="#custom-tabs-five-normal" role="tab" aria-controls="custom-tabs-five-normal" aria-selected="false">Trámites Varios</a>
                            </li> -->
                            <li class="nav-item">
                                <a class="nav-link" id="tabs-credencial-tab" data-toggle="pill" href="#tab-credencial" role="tab" aria-controls="tabs-credencial" aria-selected="false">Credencial</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tab-legajo-digital-tab" data-toggle="pill" href="#tab-legajo-digital" role="tab" aria-controls="tabs-legajo-digital" aria-selected="false">Legajo Digital</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tabs-destino-tab" data-toggle="pill" href="#tab-destino" role="tab" aria-controls="tabs-destino" aria-selected="false">Destino</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="tabs-funcion-tab" data-toggle="pill" href="#tab-funcion" role="tab" aria-controls="tabs-funcion" aria-selected="false">Función</a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content" id="custom-tabs-five-tabContent">
                            <!-- PANEL 1 DATOS LABORALES-->
                            <div class="tab-pane fade show active" id="custom-tabs-five-overlay" role="tabpanel" aria-labelledby="custom-tabs-five-overlay-tab">
                                <div class="overlay-wrapper">
                                    <!-- <div class="overlay"><i class="fas fa-3x fa-sync-alt fa-spin"></i>
                                <div class="text-bold pt-2">Loading...</div>
                            </div> -->

                                    <div class="content">

                                        <!-- Main content -->
                                        <section class="content">
                                            <div>
                                                <p-button label="Imprimir Datos" icon="pi pi-print" iconPos="left" (click)="generarPdfDatosPersonal()" class="p-button-success p-mr-2"></p-button>
                                            </div>
                                            <!-- Default box -->
                                            <div class="card card-solid mt-2">
                                                <div class="card-body">
                                                    <div class="row" id="datos-personal-print">

                                                        <div class="col-12 col-sm-4">
                                                            <div class="col-12" id="foto-personal">

                                                                <img [src]="foto_nombre" class="product-image" alt="Product Image">
                                                                <div class="p-col-12 p-md-10">
                                                                    <p-fileUpload name="foto" [customUpload]="true" [multiple]="true" (uploadHandler)="onUpload($event.files[0])"></p-fileUpload>
                                                                </div>
                                                            </div>
                                                            <!-- Imprimime html (foto)-->
                                                            <!-- <p-button label="Imprimir Foto" icon="pi pi-print" iconPos="left" onclick="printJS({ printable: 'foto-personal', type: 'html', header: 'Foto del Personal' })" class="p-button-success p-mr-2"></p-button> -->
                                                        </div>
                                                        <div class="col-12 col-sm-8">
                                                            <!-- <form [formGroup]="forma"> -->
                                                            <div class="card card-warning">
                                                                <div class="card-header">
                                                                    <h3 class="card-title">Edición de Datos</h3>

                                                                </div>
                                                                <!-- /.card-header -->
                                                                <div class="card-body">
                                                                    <form [formGroup]="forma" (ngSubmit)="submitForm('laboral')">
                                                                        <div id="edicion-form-print">
                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Primer Apellido</label>
                                                                                        <input formControlName="apellido_1" type="text" class="form-control" placeholder="primer apellido" [class.is-invalid]="apellido1NoValido">
                                                                                        <small *ngIf="apellido1NoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.apellido_1" >
                                                                                                <div  *ngIf="forma.get('apellido_1')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>

                                                                                    </div>

                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Segundo Apellido</label>
                                                                                        <input formControlName="apellido_2" type="text" class="form-control" placeholder="segundo apellido" [class.is-invalid]="apellido2NoValido">
                                                                                        <small *ngIf="apellido2NoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.apellido_2" >
                                                                                                <div  *ngIf="forma.get('apellido_2')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Primer Nombre</label>
                                                                                        <input formControlName="nombre_1" type="text" class="form-control" placeholder="primer nombre" [class.is-invalid]="nombre1NoValido">
                                                                                        <small *ngIf="nombre1NoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.nombre_1" >
                                                                                                <div  *ngIf="forma.get('nombre_1')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Segundo Nombre</label>
                                                                                        <input formControlName="nombre_2" type="text" class="form-control" placeholder="segundo nombre" [class.is-invalid]="nombre2NoValido">
                                                                                        <small *ngIf="nombre2NoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.nombre_2" >
                                                                                                <div  *ngIf="forma.get('nombre_2')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Tercer Nombre</label>
                                                                                        <input formControlName="nombre_3" type="text" class="form-control" placeholder="tercer nombre" [class.is-invalid]="nombre3NoValido">
                                                                                        <small *ngIf="nombre3NoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.nombre_3" >
                                                                                                <div  *ngIf="forma.get('nombre_3')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Legajo</label>
                                                                                        <input formControlName="legajo" type="text" class="form-control" placeholder="legajo" [class.is-invalid]="legajoNoValido">
                                                                                        <small *ngIf="legajoNoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.legajo" >
                                                                                                <div  *ngIf="forma.get('legajo')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>
                                                                                </div>
                                                                            </div>


                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <!-- select -->
                                                                                    <div class="form-group">
                                                                                        <label>Escalafón</label>
                                                                                        <select formControlName="escalafon_id" class="form-control" [ngModel]="dataEdit.escalafon_id" [class.is-invalid]="escalafonNoValido"> 
                                                                                            <option *ngFor="let escalafon of escalafones" [value]="escalafon.id_escalafon" >{{escalafon.escalafon}}</option> 
                                                                                        </select>
                                                                                        <small *ngIf="escalafonNoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.escalafon_id" >
                                                                                                <div  *ngIf="forma.get('escalafon_id')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Escala Jerárquica</label>
                                                                                        <select formControlName="escala_jerarquica_id" class="form-control" [ngModel]="dataEdit.escala_jerarquica_id" (change)=" onChangeEscala()" [class.is-invalid]="escalaJerarquicaNoValido"> 
                                                                                            <option *ngFor="let escala of escalas" [value]="escala.id_escala_jerarquica">{{escala.escala_jerarquica}}</option> 
                                                                                        </select>
                                                                                        <small *ngIf="escalaJerarquicaNoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.escala_jerarquica_id" >
                                                                                                <div  *ngIf="forma.get('escala_jerarquica_id')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <!-- select -->
                                                                                    <div class="form-group">
                                                                                        <label>Grado</label>
                                                                                        <select formControlName="grado_id" class="form-control" [ngModel]="dataEdit.grado_id" [class.is-invalid]="gradoNoValido"> 
                                                                                            <!-- <option></option> -->
                                                                                            <option *ngFor="let grado of grados" [value]="grado.id_grado" >{{grado.grado}}</option> 
                                                                                        </select>
                                                                                        <small *ngIf="gradoNoValido" class="form-text text-danger">
                                                                                            <div *ngFor="let validation of user_validation_messages.grado_id" >
                                                                                                <div  *ngIf="forma.get('grado_id')?.hasError(validation.type)">
                                                                                                    {{validation.message}}
                                                                                                </div>
                                                                                            </div>
                                                                                        </small>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Fecha Ingreso</label>
                                                                                        <!-- <input formControlName="fecha_ingreso" type="text" class="form-control" placeholder="fecha ingreso" [class.is-invalid]="nombre1NoValido"> -->
                                                                                        <input type="text" bsDatepicker [bsConfig]=bsDatePickerConfig id="fechaingreso" class="form-control" formControlName="fecha_ingreso" [ngModel]="dataEdit.fecha_ingreso">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">

                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label for="datebirth">Ultimo Ascenso</label>
                                                                                        <input type="text" bsDatepicker [bsConfig]=bsDatePickerConfig (bsValueChange)="onDateChange($event)" id="datebirth" class="form-control" formControlName="ultimo_ascenso" [ngModel]="dataEdit.ultimo_ascenso">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <hr style="height: 5px; border-color: black;">
                                                                            <div class="row">

                                                                                <div class="col-sm-6">
                                                                                    <!-- select -->
                                                                                    <div class="form-group">
                                                                                        <label>Destino</label>
                                                                                        <input type="text" class="form-control" [value]="destino_txt" disabled>

                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Departamento</label>
                                                                                        <input type="text" class="form-control" [value]="departamento_txt" disabled>

                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="row">
                                                                                <div class="col-sm-6">
                                                                                    <!-- select -->
                                                                                    <div class="form-group">
                                                                                        <label>Division</label>
                                                                                        <input type="text" class="form-control" [value]="division_txt" disabled>

                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Sector</label>
                                                                                        <input type="text" class="form-control" [value]="sector_txt" disabled>

                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="row">

                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label>Sección de Guardia</label>
                                                                                        <input type="text" class="form-control" [value]="seccion_guardia_txt" disabled>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-sm-6">
                                                                                    <!-- select -->
                                                                                    <div class="form-group">
                                                                                        <label>Funcion</label>
                                                                                        <input type="text" class="form-control" [value]="funcion_txt" disabled>

                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>

                                                                    </form>
                                                                    <button type="button" pButton pRipple icon="pi pi-print" class="p-button-info p-ml-auto" pTooltip="Selection Only" tooltipPosition="bottom" onclick="printJS({ printable: 'edicion-form-print', type: 'html', header: 'Datos Laborales' })">

                                                                    </button>


                                                                </div>
                                                                <!-- /.card-body -->


                                                                <div class="card-footer">
                                                                    <button style="width: 100%; text-align: center;" type="submit" class="btn btn-primary" (click)="submitForm('laboral')">Guardar</button>
                                                                </div>
                                                            </div>
                                                            <!-- </form> -->
                                                        </div>

                                                    </div>
                                                </div>
                                                <!-- /.card-body -->
                                            </div>
                                            <!-- /.card -->

                                            <!-- datos pre-->
                                            <hr>
                                            <pre>
                                                Estado del Formulario: {{forma.valid}}
                                                <br>
                                                Status: {{forma.status}}
                                            </pre>
                                            <pre>
                                                {{forma.value | json}}
                                            </pre>
                                            <!-- FIN datos pre-->

                                        </section>
                                        <!-- /.content -->
                                    </div>


                                </div>
                            </div>
                            <!-- FIN PANEL 1 DATOS LABORALES-->

                            <!-- PANEL 2 DATOS PERSONALES-->
                            <div class="tab-pane fade" id="custom-tabs-five-overlay-dark" role="tabpanel" aria-labelledby="custom-tabs-five-overlay-dark-tab">
                                <div class="overlay-wrapper">
                                    <!-- <div class="overlay dark"><i class="fas fa-3x fa-sync-alt fa-spin"></i>
                                <div class="text-bold pt-2">Loading...</div>
                            </div> -->
                                    <div class="card card-warning">
                                        <div class="card-header">
                                            <h3 class="card-title">Datos Filiatorios</h3>
                                        </div>
                                        <!-- /.card-header -->
                                        <div class="card-body">

                                            <form [formGroup]="formaFiliatorios" (ngSubmit)="submitForm('filiatorios')">
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>DNI</label>
                                                            <input formControlName="dni" type="text" class="form-control" placeholder="dni" [class.is-invalid]="dniNoValido">
                                                            <small *ngIf="dniNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.dni" >
                                                                    <div  *ngIf="formaFiliatorios.get('dni')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>                                                                
                                                            </small>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Cuil</label>
                                                            <input formControlName="cuil" type="text" class="form-control" [class.is-invalid]="cuilNoValido" data-inputmask="'mask': ['99-99999999-9 [x99999]']" data-mask>
                                                            <small *ngIf="cuilNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.cuil" >
                                                                    <div  *ngIf="formaFiliatorios.get('cuil')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>                                                                                                                              
                                                            </small>
                                                        </div>
                                                    </div>


                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Fecha Nacimiento</label>
                                                            <input type="text" bsDatepicker [bsConfig]=bsDatePickerConfig id="datebirth2" class="form-control" formControlName="fecha_nacimiento" [ngModel]="dataEdit.fecha_nacimiento" [class.is-invalid]="fechaNacimientoNoValido">

                                                        </div>
                                                    </div>


                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Sexo</label>
                                                            <select formControlName="sexo_id" class="form-control" [ngModel]="dataEdit.sexo_id" [class.is-invalid]="sexoNoValido"> 
                                                                <option *ngFor="let sexo of sexos" [value]="sexo.id_sexo">{{sexo.sexo}}</option> 
                                                            </select>
                                                            <small *ngIf="sexoNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.sexo_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('sexo_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Estado Civil</label>
                                                            <select formControlName="estado_civil_id" class="form-control" [ngModel]="dataEdit.estado_civil_id" [class.is-invalid]="estadoCivilNoValido"> 
                                                                <option *ngFor="let estado_civil of estados_civil" [value]="estado_civil.id_estado_civil">{{estado_civil.estado_civil}}</option> 
                                                            </select>
                                                            <small *ngIf="estadoCivilNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.estado_civil_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('estado_civil_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Nacionalidad</label>
                                                            <input formControlName="nacionalidad" type="text" class="form-control" placeholder="nacionalidad" [class.is-validate]="nacionalidadNoValido">
                                                            <small *ngIf="nacionalidadNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.nacionalidad" >
                                                                    <div  *ngIf="formaFiliatorios.get('nacionalidad')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Domicilio</label>
                                                            <input formControlName="domicilio" type="text" class="form-control" placeholder="domicilio" [class.is-validate]="domicilioNoValido">
                                                            <small *ngIf="domicilioNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.domicilio" >
                                                                    <div  *ngIf="formaFiliatorios.get('domicilio')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Provincia</label>
                                                            <select formControlName="provincia_id" class="form-control" [ngModel]="dataEdit.provincia_id" (change)=" onChangeProvincia()" [class.is-invalid]="provinciaNoValido"> 
                                                                <option *ngFor="let provincia of provincias" [value]="provincia.id_provincia">{{provincia.provincia}}</option> 
                                                            </select>
                                                            <small *ngIf="provinciaNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.provincia_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('provincia_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Departamento Provincial</label>
                                                            <select formControlName="departamento_provincial_id" class="form-control" [ngModel]="dataEdit.departamento_provincial_id" (change)=" onChangeDepartamentoProvincial()" [class.is-invalid]="departamentoProvincialNoValido"> 
                                                                <option *ngFor="let departamento_provincial of departamentos_provincial" [value]="departamento_provincial.id_dpto_prov">{{departamento_provincial.departamento_provincial}}</option> 
                                                            </select>
                                                            <small *ngIf="departamentoProvincialNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.departamento_provincial_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('departamento_provincial_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Municipio</label>
                                                            <select formControlName="municipio_id" class="form-control" [ngModel]="dataEdit.municipio_id" (change)=" onChangeMunicipios()" [class.is-invalid]="municipioNoValido"> 
                                                                <option *ngFor="let municipio of municipios" [value]="municipio.id_municipio">{{municipio.municipio}}</option> 
                                                            </select>
                                                            <small *ngIf="municipioNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.municipio_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('municipio_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Ciudad</label>
                                                            <select formControlName="ciudad_id" class="form-control" [class.is-invalid]="ciudadNoValido"> 
                                                                <option *ngFor="let ciudad of ciudades" [value]="ciudad.id_ciudad">{{ciudad.ciudad}}</option> 
                                                            </select>
                                                            <small *ngIf="ciudadNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.ciudad_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('ciudad_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Nivel Educativo</label>
                                                            <select formControlName="nivel_educativo_id" class="form-control" [ngModel]="dataEdit.nivel_educativo_id" [class.is-invalid]="nivelEducativoNoValido"> 
                                                                <option *ngFor="let nivel_educativo of niveles_educativo" [value]="nivel_educativo.id_nivel_educativo">{{nivel_educativo.nivel_educativo}}</option> 
                                                            </select>
                                                            <small *ngIf="nivelEducativoNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.nivel_educativo_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('nivel_educativo_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Telefonos</label>
                                                            <input formControlName="telefonos" type="text" class="form-control" placeholder="telefonos" [class.is-validate]="telefonosNoValido">
                                                            <small *ngIf="telefonosNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.telefonos" >
                                                                    <div  *ngIf="formaFiliatorios.get('telefonos')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Email</label>
                                                            <input formControlName="email" type="text" class="form-control" placeholder="email" [class.is-validate]="emailNoValido">
                                                            <small *ngIf="emailNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.email" >
                                                                    <div  *ngIf="formaFiliatorios.get('email')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Situacion</label>
                                                            <select formControlName="situacion_id" class="form-control" [ngModel]="dataEdit.situacion_id" [class.is-invalid]="situacionNoValido"> 
                                                                <option *ngFor="let situacion of situaciones" [value]="situacion.id_situacion">{{situacion.situacion}}</option> 
                                                            </select>
                                                            <small *ngIf="situacionNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.situacion_id" >
                                                                    <div  *ngIf="formaFiliatorios.get('situacion_id')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Altura</label>
                                                            <input formControlName="altura" type="text" class="form-control" placeholder="altura">
                                                            <small *ngIf="alturaNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.altura" >
                                                                    <div  *ngIf="formaFiliatorios.get('altura')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Peso</label>
                                                            <input formControlName="peso" type="text" class="form-control" placeholder="peso">
                                                            <small *ngIf="pesoNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.peso" >
                                                                    <div  *ngIf="formaFiliatorios.get('peso')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label>Grupo Sanguineo</label>
                                                            <input formControlName="grupo_sanguineo" type="text" class="form-control" placeholder="grupo sanguineo">
                                                            <small *ngIf="grupoSanguineoNoValido" class="form-text text-danger">
                                                                <div *ngFor="let validation of user_validation_messages.grupo_sanguineo" >
                                                                    <div  *ngIf="formaFiliatorios.get('grupo_sanguineo')?.hasError(validation.type)">
                                                                        {{validation.message}}
                                                                    </div>
                                                                </div>
                                                            </small>
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="card-footer">
                                                    <button style="width: 100%; text-align: center;" type="submit" class="btn btn-primary">Guardar</button>
                                                </div>
                                            </form>




                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- FIN PANEL 2 DATOS PERSONALES-->



                            <!-- PANEL 4 CREDENCIAL -->
                            <div class="tab-pane fade" id="tab-credencial" role="tabpanel" aria-labelledby="tabs-credencial-tab">
                                <!-- CREDENCIAL PAPEL -->
                                <div class="card card-warning">
                                    <div class="card-header">
                                        <h3 class="card-title">DISEÑO DE CREDENCIAL</h3>
                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body">


                                        <div class="container">
                                            <div>
                                                <button class="btn btn-info" [useExistingCss]="true" styleSheetFile="./edit.component.css" printSectionId="printCredencial" ngxPrint><i class="fa-solid fa-print"></i> Imprimir credencial</button>

                                            </div>
                                            <div class="mt-2" id="printCredencial">
                                                <section class="tarjeta">

                                                    <div class="delantera">
                                                        <img class="foto" [src]="foto_nombre">
                                                        <div class="grupo">
                                                            <p class="personal">{{nombreCompleto}}</p>
                                                            <p class="grado">{{grado_txt}}</p>
                                                            <p class="escalafon">{{escalafon_txt}}</p>
                                                        </div>
                                                    </div>
                                                    <div class="trasera">
                                                        <p class="nacionalidad">{{dataEdit.nacionalidad}}</p>
                                                        <p class="fecha-nac">{{(dataEdit.fecha_nacimiento!=null)?this.datePipe.transform(dataEdit.fecha_nacimiento, "dd/MM/yyyy"):''}}</p>
                                                        <p class="lugar">Salta</p>

                                                        <p class="dni">{{dataEdit.cuil}}</p>
                                                        <p class="grupo-anguineo">{{dataEdit.grupo_sanguineo}}</p>
                                                        <p class="legajo">{{dataEdit.legajo}}</p>

                                                        <p class="destino">{{destino_txt}}</p>
                                                    </div>
                                                </section>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /.card-body -->
                                </div>
                                <!-- FIN CREDENCIAL PAPEL -->

                                <!-- CREDENCIAL TARJETA -->
                                <div class="card card-warning">
                                    <div class="card-header">
                                        <h3 class="card-title">DISEÑO DE CREDENCIAL TARJETA</h3>
                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body">

                                        <div class="row mt-2">
                                            <div class="col-12">
                                                <div class="container">
                                                    <div>
                                                        <button class="btn btn-info" [useExistingCss]="true" styleSheetFile="./edit.component.css" printSectionId="printCredencialTarjeta" ngxPrint><i class="fa-solid fa-print"></i> Imprimir credencial</button>

                                                    </div>
                                                    <div class="mt-2" id="printCredencialTarjeta">
                                                        <section class="tarjeta">

                                                            <div class="delanteraTarjeta">
                                                                <img class="foto" [src]="foto_nombre">
                                                                <div class="grupo">
                                                                    <p class="personal">{{nombreCompleto}}</p>
                                                                    <p class="grado">{{grado_txt}}</p>
                                                                    <p class="escalafon">{{escalafon_txt}}</p>
                                                                </div>
                                                            </div>
                                                            <div class="traseraTarjeta">
                                                                <p class="nacionalidad">{{dataEdit.nacionalidad}}</p>
                                                                <p class="fecha-nac">{{(dataEdit.fecha_nacimiento!=null)?this.datePipe.transform(dataEdit.fecha_nacimiento, "dd/MM/yyyy"):''}}</p>
                                                                <p class="lugar">Salta</p>

                                                                <p class="dni">{{dataEdit.cuil}}</p>
                                                                <p class="grupo-anguineo">{{dataEdit.grupo_sanguineo}}</p>
                                                                <p class="legajo">{{dataEdit.legajo}}</p>

                                                                <p class="destino">{{destino_txt}}</p>
                                                            </div>
                                                        </section>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="container">
                                                    <div>
                                                        <button class="btn btn-info" [useExistingCss]="true" styleSheetFile="./edit.component.css" printSectionId="printCredencialFrente" ngxPrint><i class="fa-solid fa-print"></i> Imprimir Frente</button>

                                                    </div>
                                                    <div class="mt-2" id="contenido">
                                                        <section class="tarjeta">

                                                            <div class="delanteraTarjeta">
                                                                <img class="foto" [src]="foto_nombre">
                                                                <div class="grupo">
                                                                    <p class="personal">{{nombreCompleto}}</p>
                                                                    <p class="grado">{{grado_txt}}</p>
                                                                    <p class="escalafon">{{escalafon_txt}}</p>
                                                                </div>
                                                            </div>
                                                        </section>
                                                    </div>
                                                </div>
                                                <button type="button" class="btn btn-primary mt-3 mb-5 mx-auto d-block" (click)="crearImagenCredencial()">Crear Imagen</button>

                                                <!-- Imagen Creada -->
                                                <ng-container *ngIf="imgcreada === true;">

                                                    <div align="center">

                                                        <!-- Imagen Creada -->
                                                        <h4>Imagen Creada:</h4>
                                                        <img src={{imagenCreada}}>
                                                    </div>

                                                    <!-- Botón para descargar la imagen creada -->
                                                    <div class="row">
                                                        <a type="button" class="btn btn-success mt-3 mx-auto d-block" href="{{imagenCreada}}" download> 
                                                            Descargar
                                                        </a>
                                                        <a type="button" class="btn btn-success mt-3 mx-auto d-block" href="{{imagenCreada}}" ngxPrint> 
                                                            Imprimir
                                                        </a>
                                                    </div>

                                                </ng-container>
                                            </div>
                                            <div class="col-12">
                                                <div class="container">
                                                    <div>
                                                        <button class="btn btn-info" [useExistingCss]="true" styleSheetFile="./edit.component.css" printSectionId="printCredencialDorso" ngxPrint><i class="fa-solid fa-print"></i> Imprimir dorso</button>

                                                    </div>
                                                    <div class="mt-2" id="printCredencialDorso">
                                                        <section class="tarjeta">

                                                            <div class="traseraTarjeta">
                                                                <p class="nacionalidad">{{dataEdit.nacionalidad}}</p>
                                                                <p class="fecha-nac">{{(dataEdit.fecha_nacimiento!=null)?this.datePipe.transform(dataEdit.fecha_nacimiento, "dd/MM/yyyy"):''}}</p>
                                                                <p class="lugar">Salta</p>

                                                                <p class="dni">{{dataEdit.cuil}}</p>
                                                                <p class="grupo-anguineo">{{dataEdit.grupo_sanguineo}}</p>
                                                                <p class="legajo">{{dataEdit.legajo}}</p>

                                                                <p class="destino">{{destino_txt}}</p>
                                                            </div>
                                                        </section>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <!-- /.card-body -->
                                </div>
                                <!-- FIN CREDENCIAL TARJETA -->

                            </div>
                            <!-- FIN PANEL 4 CREDENCIAL -->

                            <!-- PANEL 5 LEGAJO DIGITAL-->
                            <!-- <div class="tab-pane fade show active" id="tab-legajo-digital" role="tabpanel" aria-labelledby="tabs-legajo-digital-tab"> -->
                            <div class="tab-pane fade" id="tab-legajo-digital" role="tabpanel" aria-labelledby="tabs-legajo-digital-tab">
                                <div class="overlay-wrapper">
                                    <!-- <div class="overlay"><i class="fas fa-3x fa-sync-alt fa-spin"></i>
                                <div class="text-bold pt-2">Loading...</div>
                            </div> -->

                                    <div class="content">

                                        <div class="card">
                                            <!-- <div class="card-header">
                                                <h3 class="card-title">Tabla: Expediente Digital</h3>
                                            </div> -->
                                            <div class="card-body">
                                                <div class="card">
                                                    <p-toolbar styleClass="p-mb-4" [style]="{background:'black'}">
                                                        <ng-template pTemplate="left">
                                                            <button pButton pRipple label="Nuevo Registro" icon="pi pi-plus" class="p-button-success p-mr-2" (click)="crearRegistro()"></button>
                                                        </ng-template>
                                                        <ng-template pTemplate="right">
                                                            <h5 class="">Tabla: Expediente Digital</h5>
                                                        </ng-template>

                                                    </p-toolbar>
                                                    <p-table #dt id="pdfs-table" class="primengTable" [value]="pdfsList" [style]="{width:'100%'}" selectionMode="multiple" dataKey="id_personal" [rowHover]="true" [rows]="5" [showCurrentPageReport]="true" [rowsPerPageOptions]="[5,10,25,50]" [loading]="loadingTablaPdfs"
                                                        [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0" [globalFilterFields]="['name','country.name','representative.name','status']" [scrollable]="true"
                                                        scrollHeight="100%" [responsive]="false">

                                                        <ng-template pTemplate="colgroup" let-columns>
                                                            <colgroup>

                                                                <col style="width:70px">
                                                                <col style="width:200px">
                                                                <col style="width:70px">
                                                                <col style="width:100px">
                                                                <col style="width:70px">

                                                            </colgroup>
                                                        </ng-template>
                                                        <ng-template pTemplate="header">
                                                            <tr>
                                                                <th></th>
                                                                <th>
                                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                                        Detalle
                                                                        <p-columnFilter type="text" field="detalle" display="menu" class="p-ml-auto"></p-columnFilter>
                                                                    </div>
                                                                </th>
                                                                <th pSortableColumn="indice">
                                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                                        Indice
                                                                        <p-sortIcon field="indice"></p-sortIcon>
                                                                    </div>
                                                                </th>
                                                                <th pSortableColumn="fecha_documento">
                                                                    <div class="p-d-flex p-jc-between p-ai-center">
                                                                        Fecha
                                                                        <p-sortIcon field="fecha_documento"></p-sortIcon>
                                                                    </div>
                                                                </th>
                                                                <th></th>


                                                            </tr>
                                                        </ng-template>
                                                        <ng-template pTemplate="body" let-pdf>
                                                            <tr class="p-selectable-row">
                                                                <td>
                                                                    <!-- <button type="button" pButton pRipple icon="pi pi-file-pdf" class="p-button-warning p-mr-2" pTooltip="PDF" tooltipPosition="bottom"></button> -->
                                                                    <!-- <button type="button" pButton pRipple icon="pi pi-file-pdf" class="p-button-warning p-mr-2" pTooltip="PDF" tooltipPosition="bottom" onclick="printJS({printable:'pdf.id_archivo | pdfpersonal', type:'pdf', showModal:true})"> -->
                                                                    <button type="button" pButton pRipple icon="pi pi-file-pdf" class="p-button-warning p-mr-2" pTooltip="PDF" tooltipPosition="bottom" (click)="descargarPdf(pdf.nombre_archivo)"></button>

                                                                </td>

                                                                <td>
                                                                    <!-- <span class="p-column-title">Nombre 1</span> -->
                                                                    {{pdf.detalle}}
                                                                </td>
                                                                <td>
                                                                    <!-- <span class="p-column-title">Nombre 2</span>  -->
                                                                    {{pdf.indice}}
                                                                </td>
                                                                <td>
                                                                    <!-- <span class="p-column-title">Nombre 3</span>  -->
                                                                    {{(pdf.fecha_documento!=null)?this.datePipe.transform(pdf.fecha_documento, "dd/MM/yyyy"):''}}
                                                                </td>
                                                                <td>
                                                                    <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success p-mr-2" (click)="editRegPdf(pdf)"></button>
                                                                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deletePdf(pdf)"></button>
                                                                </td>
                                                            </tr>
                                                        </ng-template>
                                                        <ng-template pTemplate="emptymessage">
                                                            <tr>
                                                                <td colspan="8">No customers found.</td>
                                                            </tr>
                                                        </ng-template>


                                                    </p-table>
                                                </div>

                                                <!-- Dialogo Modal: Formulario de Carga de Nuevo Pdf -->
                                                <p-dialog [(visible)]="newFileDialog" [style]="{width: '450px'}" header={{this.tituloFormPdf}} [closable]="false" [modal]="true" styleClass="p-fluid">
                                                    <ng-template pTemplate="content">
                                                        <!-- <img [src]="'assets/showcase/images/demo/product/' + product.image" [alt]="product.image" class="product-image" *ngIf="product.image"> -->


                                                        <div class="p-field p-grid">
                                                            <div class="p-col-12 p-md-10">

                                                                <!-- inicio de formulario -->
                                                                <div class="p-fluid p-flex-column">
                                                                    <!-- <div class="p-field p-grid">
                                                                        <label class="p-col-12 p-mb-2 p-md-2 p-mb-md-0" for="legajo">Personal</label>
                                                                        <div class="p-col-12 p-md-10">
                                                                            <input type="number" id="legajo" [(ngModel)]="regPdf.legajo_personal" required autofocus/>
                                                                            <small class="p-error" *ngIf="submitted && !regPdf.legajo_personal">El Personal es requerido!</small>
                                                                        </div>
                                                                    </div> -->
                                                                    <!-- <div class="p-field p-grid">
                                                                        <label class="p-col-2 p-mb-2 p-mb-md-0" for="nombre">Nombre del Archivo</label>
                                                                        <div class="p-col-12 p-md-10">
                                                                            <input type="text" pInputText id="nombre" [(ngModel)]="regPdf.nombre_archivo" required/>
                                                                            <small class="p-error" *ngIf="submitted && !regPdf.nombre_archivo">El Nombre del Archivos es requerido!</small>
                                                                        </div>
                                                                    </div> -->


                                                                    <div class="p-field p-grid">
                                                                        <label class="p-col-2 p-mb-2 p-mb-md-0" for="detalle">Detalle</label>
                                                                        <div class="p-col-12 p-md-10">
                                                                            <input type="text" pInputText id="detalle" [(ngModel)]="regPdf.detalle" />
                                                                            <small class="p-error" *ngIf="submitted && !regPdf.detalle">El Detalle del Archivo es requerido!</small>
                                                                        </div>
                                                                    </div>
                                                                    <div class="p-field p-grid">
                                                                        <label class="p-col-2 p-mb-2 p-mb-md-0" for="indice">Indice</label>
                                                                        <div class="p-col-12 p-md-10">
                                                                            <input type="number" pInputText id="indice" [(ngModel)]="regPdf.indice" />
                                                                            <small class="p-error" *ngIf="submitted && !regPdf.indice">El indice es el orden del Archivo y es requerido!</small>
                                                                        </div>
                                                                    </div>
                                                                    <div class="p-field p-grid">
                                                                        <label class="p-col-2 p-mb-2 p-mb-md-0" for="fecha">Fecha del Pdf</label>
                                                                        <div class="p-col-12 p-md-10">
                                                                            <input type="text" pInputText bsDatepicker [bsConfig]=bsDatePickerConfig (bsValueChange)="onDateChange($event)" id="fecha" [(ngModel)]="regPdf.fecha_documento" required />
                                                                            <small class="p-error" *ngIf="submitted && !regPdf.fecha_documento">La Fecha es requerida!</small>
                                                                        </div>
                                                                    </div>


                                                                </div>



                                                                <!-- fin de formulario -->
                                                            </div>
                                                            <div class="p-col-12 p-md-10">
                                                            </div>
                                                            <div class="p-field p-grid">
                                                            </div>

                                                            <div class="p-col-12 p-md-10" *ngIf="!editandoPdf">
                                                                <p-fileUpload name="pdf" [customUpload]="true" (uploadHandler)="onUploadPdf($event.files[0])" accept=".pdf"></p-fileUpload>
                                                            </div>
                                                        </div>





                                                    </ng-template>

                                                    <ng-template pTemplate="footer">
                                                        <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="ocultarDialogo()"></button>
                                                        <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="onEditPdf()" *ngIf="editandoPdf"></button>
                                                        <!-- <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="grabarRegPdf()"></button> -->
                                                    </ng-template>
                                                </p-dialog>


                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!-- FIN LEGAJO DIGITAL-->

                            <!-- PANEL 6 DESTINO -->
                            <div class="tab-pane fade" id="tab-destino" role="tabpanel" aria-labelledby="tabs-destino-tab">


                                <!-- <form [formGroup]="forma"> -->
                                <div class="card card-warning">
                                    <div class="card-header">
                                        <h3 class="card-title">Cambio de Destino</h3>

                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body">
                                        <div class="">
                                            <button *ngIf="administrador" pButton pRipple label="Nuevo Traslado" icon="fas fa-plus" class="p-button-success p-mr-2" (click)="crearTraslado()"></button>
                                            <button class="btn btn-info" (click)="listarTraslados()"><i class="fas fa-eye"></i> Ver Historial</button>

                                        </div>
                                        <hr style="background-color: grey;">


                                        <!-- TABLA HISTORIAL DE TRASLADOS -->
                                        <table class="table table-responsive table-striped" style="width:'100%'">
                                            <thead>
                                                <tr>
                                                    <th style="width: 50px;">Edicion</th>
                                                    <th style="width: 100px;">Vigente</th>
                                                    <th style="width: 100px;">Confirmado</th>
                                                    <th style="width: 100px;">Id</th>
                                                    <th style="width: 100px;">Legajo</th>
                                                    <th style="width: 350px;">Destino</th>
                                                    <th style="width: 250px;">Instrumento</th>
                                                    <th style="width: 200px;">Fecha</th>
                                                    <th style="width: 100px;">Fojas</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let traslado of listaTraslado">
                                                    <th>
                                                        <a type="button" pButton pRipple icon="fas fa-edit" class="p-button-rounded p-button-info p-mr-2" (click)="editarTraslado(traslado)">
                                                        </a>

                                                    </th>
                                                    <th>{{(traslado.vigente==true)?'SI':'NO'}}</th>
                                                    <th>{{(traslado.confirmado==true)?'SI':'NO'}}</th>
                                                    <th>{{traslado.id_traslado}}</th>
                                                    <th>{{traslado.legajo}}</th>
                                                    <th>{{(traslado.destino != null)?traslado.destino.destino:"sin destino"}}</th>
                                                    <th>{{traslado.instrumento}}</th>
                                                    <th>{{traslado.fecha}}</th>
                                                    <th>{{traslado.fojas}}</th>


                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- FIN TABLA HISTORIAL DE TRASLADOS -->

                                        <!-- DIALOG FORMULARIO TRASLADO -->
                                        <p-dialog [(visible)]="newTrasladoDialog" [style]="{width: '450px'}" header={{this.tituloFormTraslado}} [closable]="false" [modal]="true" styleClass="p-fluid">
                                            <ng-template pTemplate="content">
                                                <form [formGroup]="formaTraslados" (ngSubmit)="submitFormTraslado()">
                                                    <div id="edicion-form-print">

                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Id Traslado</label>
                                                                    <input formControlName="id_traslado" type="text" class="form-control" placeholder="id traslado" Disabled>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Dni</label>
                                                                    <input formControlName="dni_personal" type="text" class="form-control" placeholder="dni personal" Disabled>
                                                                    <small *ngIf="dniTrasNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of traslado_validation_messages.dni_personal" >
                                                                            <div  *ngIf="formaTraslados.get('dni_personal')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Legajo</label>
                                                                    <input formControlName="legajo" type="text" class="form-control" placeholder="legajo" Disabled>
                                                                    <small *ngIf="legajoTrasNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of traslado_validation_messages.legajo" >
                                                                            <div  *ngIf="formaTraslados.get('legajo')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="row">

                                                            <div class="col-sm-12">
                                                                <!-- select -->
                                                                <div class="form-group">
                                                                    <label>Destino</label>
                                                                    <!-- <select *ngIf="administrador" formControlName="destino_id" class="form-control" [ngModel]="dataEdit.destino_id" (change)=" onChangeDestino()">  -->
                                                                    <select *ngIf="administrador" formControlName="destino_id" class="form-control" [class.is-invalid]="destinoTrasNoValido"> 
                                                                            <option *ngFor="let destino of destinos" [value]="destino.id_destino" >{{destino.destino}}</option>
                                                                    </select>
                                                                    <input *ngIf="!administrador" type="text" class="form-control" [placeholder]="destino_txt" disabled>
                                                                    <small *ngIf="destinoTrasNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of traslado_validation_messages.destino_id" >
                                                                            <div  *ngIf="formaTraslados.get('destino_id')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>

                                                                    <!-- <p-dropdown class="form-control" [options]="destinos" formControlName="destino_id" optionLabel="destino" optionValue="id_destino" [virtualScroll]="true" appendTo="body"></p-dropdown> -->
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label>Instrumento</label>
                                                                    <input formControlName="instrumento" type="text" class="form-control" placeholder="instrumento">
                                                                    <small *ngIf="instrumentoTrasNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of traslado_validation_messages.instrumento" >
                                                                            <div  *ngIf="formaTraslados.get('instrumento')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row">

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Fecha</label>
                                                                    <input formControlName="fecha" type="text" class="form-control" placeholder="fecha">
                                                                    <small *ngIf="fechaTrasNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of traslado_validation_messages.fecha" >
                                                                            <div  *ngIf="formaTraslados.get('fecha')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Fojas</label>
                                                                    <input formControlName="fojas" type="text" class="form-control" placeholder="fojas">
                                                                    <small *ngIf="fojasTrasNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of traslado_validation_messages.fojas" >
                                                                            <div  *ngIf="formaTraslados.get('fojas')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row">


                                                            <div class="col-sm-6">
                                                                <div class="icheck-primary">
                                                                    <input type="checkbox" id="vigente" formControlName="vigente" class="form-control" Disabled>
                                                                    <label for="vigente">
                                                                        Vigente
                                                                    </label>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="icheck-primary">
                                                                    <input type="checkbox" id="confirmado" formControlName="confirmado" class="form-control" Disabled>
                                                                    <label for="confirmado">
                                                                        Confirmado
                                                                    </label>

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </form>
                                            </ng-template>
                                            <ng-template pTemplate="footer">
                                                <div class="row">
                                                    <div class="col-8" *ngIf="!editandoTraslado && administrador">
                                                        <button style="width: 100%; text-align: center;" type="submit" class="btn btn-primary" (click)="submitFormTraslado()">Guardar Traslado</button>
                                                    </div>
                                                    <div class="col-8" *ngIf="editandoTraslado && administrador">
                                                        <button style="width: 100%; text-align: center;" type="submit" class="btn btn-primary" (click)="submitFormTraslado()">Actualizar Traslado</button>
                                                    </div>
                                                    <div class="col-4">
                                                        <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-text" (click)="ocultarDialogoTraslado()"></button>
                                                    </div>
                                                </div>
                                            </ng-template>

                                        </p-dialog>
                                        <!-- FIN DIALOG FORMULARIO TRASLADO -->


                                        <!-- <button type="button" pButton pRipple icon="pi pi-print" class="p-button-info p-ml-auto" pTooltip="Selection Only" tooltipPosition="bottom" onclick="printJS({ printable: 'edicion-form-print', type: 'html', header: 'Datos Laborales' })">

                                                    </button> -->


                                    </div>
                                    <!-- /.card-body -->


                                    <!-- datos pre-->
                                    <hr>
                                    <pre>
                                         Estado del Formulario: {{formaTraslados.valid}}
                                         <br>
                                         Status: {{formaTraslados.status}}
                                     </pre>
                                    <pre>
                                         {{formaTraslados.value | json}}
                                     </pre>
                                    <!-- FIN datos pre-->
                                </div>
                                <!-- </form> -->

                            </div>
                            <!-- FIN PANEL 6 DESTINO -->

                            <!-- PANEL 7 FUNCION -->
                            <div class="tab-pane fade" id="tab-funcion" role="tabpanel" aria-labelledby="tabs-funcion-tab">
                                <div class="card card-warning">
                                    <div class="card-header">
                                        <h3 class="card-title">Cambio de Función</h3>

                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body">



                                        <div class="">
                                            <button *ngIf="!administrador" pButton pRipple label="Nueva Funcion" icon="fas fa-plus" class="p-button-success p-mr-2" (click)="crearFuncion()"></button>

                                            <button class="btn btn-info" (click)="listarFunciones()"><i class="fas fa-eye"></i> Ver Historial</button>
                                        </div>
                                        <hr style="background-color: grey;">

                                        <!-- TABLA HISTORIAL DE FUNCIONES -->
                                        <table class="table table-responsive table-striped" style="width:'100%'">
                                            <thead>
                                                <tr>
                                                    <th style="width: 50px;">Edicion</th>
                                                    <th style="width: 100px;">Vigente</th>
                                                    <th style="width: 100px;">Id</th>
                                                    <th style="width: 100px;">Legajo</th>
                                                    <th style="width: 350px;">Destino</th>
                                                    <th style="width: 250px;">Departamento</th>
                                                    <th style="width: 200px;">Division</th>
                                                    <th style="width: 200px;">Sector</th>
                                                    <th style="width: 200px;">Sección Guardia</th>
                                                    <th style="width: 200px;">Función</th>
                                                    <th style="width: 200px;">Instrumento</th>
                                                    <th style="width: 200px;">Fecha</th>
                                                    <th style="width: 100px;">Fojas</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let funcion of listaFunciones">
                                                    <th>
                                                        <a type="button" pButton pRipple icon="fas fa-edit" class="p-button-rounded p-button-info p-mr-2" (click)="editarFuncion(funcion)">
                                                        </a>

                                                    </th>
                                                    <th>{{(funcion.vigente==true)?'SI':'NO'}}</th>
                                                    <th>{{funcion.id_personal_funcion}}</th>
                                                    <th>{{funcion.legajo}}</th>
                                                    <th>{{(funcion.destino != null)?funcion.destino.destino:"sin destino"}}</th>
                                                    <th>{{(funcion.departamento != null)?funcion.departamento.departamento:"sin destino"}}</th>
                                                    <th>{{(funcion.division != null)?funcion.division.division:"sin destino"}}</th>
                                                    <th>{{(funcion.sector != null)?funcion.sector.sector:"sin destino"}}</th>
                                                    <th>{{(funcion.seccion_guardia != null)?funcion.seccion_guardia.seccion:"sin destino"}}</th>
                                                    <th>{{(funcion.funcion != null)?funcion.funcion.funcion:"sin destino"}}</th>
                                                    <th>{{funcion.instrumento}}</th>
                                                    <th>{{funcion.fecha}}</th>
                                                    <th>{{funcion.fojas}}</th>


                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- FIN TABLA HISTORIAL DE FUNCIONES -->

                                        <!-- DIALOG FORMULARIO FUNCION -->
                                        <p-dialog [(visible)]="newFuncionDialog" [style]="{width: '450px'}" header={{this.tituloFormFuncion}} [closable]="false" [modal]="true" styleClass="p-fluid">
                                            <ng-template pTemplate="content">
                                                <form [formGroup]="formaFuncion" (ngSubmit)="submitFormFuncion()">
                                                    <div id="edicion-form-print">


                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Id funcion</label>
                                                                    <input formControlName="id_personal_funcion" type="text" class="form-control" placeholder="id funcion" Disabled>

                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Legajo</label>
                                                                    <input formControlName="legajo" type="text" class="form-control" placeholder="legajo" Disabled>
                                                                    <small *ngIf="legajoFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.legajo" >
                                                                            <div  *ngIf="formaFuncion.get('legajo')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">

                                                            <div class="col-sm-12">
                                                                <!-- select -->
                                                                <div class="form-group">
                                                                    <label>Destino</label>
                                                                    <!-- <select *ngIf="administrador" formControlName="destino_id" class="form-control" [ngModel]="dataEdit.destino_id" (change)=" onChangeDestino()">  -->
                                                                    <select *ngIf="administrador" formControlName="destino_id" class="form-control" [class.is-invalid]="destinoFuncionNoValido" Disabled> 
                                                                            <option *ngFor="let destino of destinos" [value]="destino.id_destino" >{{destino.destino}}</option>
                                                                    </select>
                                                                    <input *ngIf="!administrador" type="text" class="form-control" [placeholder]="destino_txt" disabled>
                                                                    <small *ngIf="destinoFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.destino_id" >
                                                                            <div  *ngIf="formaFuncion.get('destino_id')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>

                                                                    <!-- <p-dropdown class="form-control" [options]="destinos" formControlName="destino_id" optionLabel="destino" optionValue="id_destino" [virtualScroll]="true" appendTo="body"></p-dropdown> -->
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Departamento</label>
                                                                    <select formControlName="departamento_id" class="form-control" (change)="onChangeDepartamento()" [class.is-invalid]="depatamentoFuncionNoValido"> 
                                                                        <option *ngFor="let departamento of departamentos" [value]="departamento.id_departamento" >{{departamento.departamento}}</option>
                                                                    </select>
                                                                    <small *ngIf="depatamentoFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.departamento_id" >
                                                                            <div  *ngIf="formaFuncion.get('departamento_id')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <!-- select -->
                                                                <div class="form-group">
                                                                    <label>Divisiones</label>
                                                                    <!-- <select *ngIf="administrador" formControlName="destino_id" class="form-control" [ngModel]="dataEdit.destino_id">  -->
                                                                    <select formControlName="division_id" class="form-control" (change)="onChangeDivision()" [class.is-invalid]="divisionFuncionNoValido"> 
                                                                          <option *ngFor="let division of divisiones" [value]="division.id_division" >{{division.division}}</option>
                                                                    </select>
                                                                    <small *ngIf="divisionFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.division_id" >
                                                                            <div  *ngIf="formaFuncion.get('division_id')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Sectores</label>
                                                                    <select formControlName="sector_id" class="form-control" (change)="onChangeSector()" [class.is-invalid]="sectorFuncionNoValido"> 
                                                                        <option *ngFor="let sector of sectores" [value]="sector.id_sector" >{{sector.sector}}</option>
                                                                  </select>
                                                                    <small *ngIf="sectorFuncionNoValido" class="form-text text-danger">
                                                                    <div *ngFor="let validation of funcion_validation_messages.sector_id" >
                                                                        <div  *ngIf="formaFuncion.get('sector_id')?.hasError(validation.type)">
                                                                            {{validation.message}}
                                                                        </div>
                                                                    </div>
                                                                </small>
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Sección de Guardia</label>
                                                                    <select formControlName="seccion_guardia_id" class="form-control" (change)="onChangeSeccionesGuardia()" [class.is-invalid]="seccionGuardiaFuncionNoValido"> 
                                                                        <option *ngFor="let guardia of secciones_guardia" [value]="guardia.id_seccion" >{{guardia.seccion}}</option>
                                                                    </select>
                                                                    <small *ngIf="seccionGuardiaFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.seccion_guardia_id" >
                                                                            <div  *ngIf="formaFuncion.get('seccion_guardia_id')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-sm-8">
                                                                <!-- select -->
                                                                <div class="form-group">
                                                                    <label>Funciones</label>
                                                                    <select formControlName="funcion_id" class="form-control" [class.is-invalid]="funcionFuncionNoValido"> 
                                                                        <option *ngFor="let funcion of funciones" [value]="funcion.id_funcion" >{{funcion.funcion}}</option>
                                                                    </select>
                                                                    <small *ngIf="funcionFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.funcion_id" >
                                                                            <div  *ngIf="formaFuncion.get('funcion_id')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>

                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label>Instrumento</label>
                                                                    <input formControlName="instrumento" type="text" class="form-control" placeholder="instrumento" [class.is-invalid]="instrumentoFuncionNoValido">
                                                                    <small *ngIf="instrumentoFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.instrumento" >
                                                                            <div  *ngIf="formaFuncion.get('instrumento')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row">

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Fecha</label>
                                                                    <input formControlName="fecha" type="text" class="form-control" placeholder="fecha" [class.is-invalid]="instrumentoFuncionNoValido">
                                                                    <small *ngIf="fechaFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.fecha" >
                                                                            <div  *ngIf="formaFuncion.get('fecha')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label>Fojas</label>
                                                                    <input formControlName="fojas" type="text" class="form-control" placeholder="fojas" [class.is-invalid]="fojasFuncionNoValido">
                                                                    <small *ngIf="fojasFuncionNoValido" class="form-text text-danger">
                                                                        <div *ngFor="let validation of funcion_validation_messages.fojas" >
                                                                            <div  *ngIf="formaFuncion.get('fojas')?.hasError(validation.type)">
                                                                                {{validation.message}}
                                                                            </div>
                                                                        </div>
                                                                    </small>
                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row">

                                                            <div class="col-sm-6">
                                                                <div class="icheck-primary">
                                                                    <input type="checkbox" id="remember" formControlName="vigente" class="form-control" Disabled>
                                                                    <label for="remember">
                                                                        Vigente
                                                                    </label>

                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </form>
                                            </ng-template>
                                            <ng-template pTemplate="footer">
                                                <div class="row">
                                                    <div class="col-8" *ngIf="!editandoFuncion && !administrador">
                                                        <button style="width: 100%; text-align: center;" type="submit" class="btn btn-primary" (click)="submitFormFuncion()">Guardar Función</button>
                                                    </div>
                                                    <div class="col-8" *ngIf="editandoFuncion && !administrador">
                                                        <button style="width: 100%; text-align: center;" type="submit" class="btn btn-primary" (click)="submitFormFuncion()">Actualizar Función</button>
                                                    </div>
                                                    <div class="col-4">
                                                        <button pButton pRipple label="CANCELAR" icon="pi pi-times" class="p-button-text" (click)="ocultarDialogoFuncion()"></button>
                                                    </div>
                                                </div>
                                            </ng-template>

                                        </p-dialog>
                                        <!-- FIN DIALOG FORMULARIO TRASLADO -->


                                        <!-- <button type="button" pButton pRipple icon="pi pi-print" class="p-button-info p-ml-auto" pTooltip="Selection Only" tooltipPosition="bottom" onclick="printJS({ printable: 'edicion-form-print', type: 'html', header: 'Datos Laborales' })">

                                                    </button> -->


                                    </div>
                                    <!-- /.card-body -->


                                    <!-- datos pre-->
                                    <hr>
                                    <pre>
                                         Estado del Formulario: {{formaFuncion.valid}}
                                         <br>
                                         Status: {{formaFuncion.status}}
                                     </pre>
                                    <pre>
                                         {{formaFuncion.value | json}}
                                     </pre>
                                    <!-- FIN datos pre-->
                                </div>
                                <!-- </form> -->

                            </div>
                            <!-- FIN PANEL 7 Funcion -->

                        </div>

                    </div>
                </div>
                <!-- /.card -->
            </div>
        </div>
        <!-- </div> -->



    </div>
    <!-- /.card-body -->
    <div class="card-footer">
        Footer
    </div>
    <!-- /.card-footer-->
</div>